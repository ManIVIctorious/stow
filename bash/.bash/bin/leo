#!/usr/bin/bash

# leo - LeoDictionary
# requires: w3m
# usage:    leo <searched-word(german or english)>

# check if w3m is available
if !( which w3m >/dev/null 2>&1 ); then
  echo "This script requires w3m to be available on the PATH" >&2
  echo "Aborting..." >&2
  exit 1
fi

phrase='\(Substantive\|Verben\|Adjektive\|Beispiele\|Phrasen\|Ã„hnliche\|Suchumfeld\|Diskussionen\)'
w3m -dump "http://pda.leo.org/?search=\"$*\"" | sed -n "/\(${phrase}::\)\+/I,\$p" | less
